<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Mods</title>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Alpha PE Modifications Center</div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li class="active"><a href="mods.html">Mods</a></li>
                <li><a href="plugins.html">Plugins</a></li>
            </ul>
        </nav>
    </header>

    <section class="content">
        <h2>Mods</h2>
		
		<div class="search-box">
            <input type="text" class="search-input" id="modSearch" placeholder="Search mods by name or description...">
            <select id="versionFilter">
                <option value="all">All versions</option>
                <option value="0.16.0">0.16.0</option>
                <option value="0.15.10">0.15.10</option>
                <option value="0.15.9">0.15.9</option>
                <option value="0.15.8">0.15.8</option>
                <option value="0.15.7">0.15.7</option>
                <option value="0.15.6">0.15.6</option>
                <option value="0.15.4">0.15.4</option>
                <option value="0.15.3">0.15.3</option>
                <option value="0.15.2">0.15.2</option>
                <option value="0.15.1">0.15.1</option>
                <option value="0.15.0">0.15.0</option>
                <option value="0.14.3">0.14.3</option>
                <option value="0.14.2">0.14.2</option>
                <option value="0.14.1">0.14.1</option>
                <option value="0.14.0">0.14.0</option>
                <option value="0.13.1">0.13.1</option>
                <option value="0.13.0">0.13.0</option>
                <option value="0.12.3">0.12.3</option>
                <option value="0.12.2">0.12.2</option>
                <option value="0.12.1">0.12.1</option>
                <option value="0.11.1">0.11.1</option>
                <option value="0.11.0">0.11.0</option>
                <option value="0.10.5">0.10.5</option>
                <option value="0.10.4">0.10.4</option>
                <option value="0.10.3">0.10.3</option>
                <option value="0.10.2">0.10.2</option>
                <option value="0.10.1">0.10.1</option>
                <option value="0.10.0">0.10.0</option>
                <option value="0.9.5">0.9.5</option>
                <option value="0.9.4">0.9.4</option>
                <option value="0.9.3">0.9.3</option>
                <option value="0.9.2">0.9.2</option>
                <option value="0.9.1">0.9.1</option>
                <option value="0.9.0">0.9.0</option>
                <option value="0.8.1">0.8.1</option>
                <option value="0.8.0">0.8.0</option>
                <option value="0.7.6">0.7.6</option>
                <option value="0.7.5">0.7.5</option>
	            <option value="0.7.4">0.7.4</option>
	            <option value="0.7.3">0.7.3</option>
	            <option value="0.7.2">0.7.2</option>
	            <option value="0.7.1">0.7.1</option>
	            <option value="0.7.0">0.7.0</option>
	            <option value="0.6.2">0.6.2</option>
	            <option value="0.6.1">0.6.1</option>
	            <option value="0.6.0">0.6.0</option>
	            <option value="0.5.0">0.5.0</option>
	            <option value="0.4.0">0.4.0</option>
	            <option value="0.3.2">0.3.2</option>
	            <option value="0.3.0">0.3.0</option>
	            <option value="0.2.1">0.2.1</option>
	            <option value="0.2.0">0.2.0</option>
	            <option value="0.1.4">0.1.4</option>
	            <option value="0.1.3">0.1.3</option>
	            <option value="0.1.2">0.1.2</option>
	            <option value="0.1.1">0.1.1</option>
	            <option value="0.1.0">0.1.0</option>
            </select>
        </div>
        
        <ul class="mod-list" id="modList">
            <!-- Mods will be added here using JavaScript -->
        </ul>
    </section>

    <footer>
        <p>Alpha PE Modifications Center</p>
        <a href="https://discord.gg/4fv4RrTav4" class="discord-icon"></a> Join us on <a href="https://discord.gg/4fv4RrTav4" class="discord-link">Discord</a>
    </footer>
	
    <script>
document.addEventListener("DOMContentLoaded", () => {
    fetch("mods.json")
        .then(response => response.json())
        .then(mods => {
            const modList = document.getElementById("modList");
            const versionFilter = document.getElementById("versionFilter");
            const searchInput = document.getElementById("modSearch");

            function createModItem(mod) {
                const modItem = document.createElement("li");
                modItem.classList.add("mod-item");

                const modDetails = document.createElement("div");
                modDetails.classList.add("mod-details");

                const modName = document.createElement("h3");
                modName.classList.add("mod-name");
                modName.textContent = mod.name;
		modNameLink.textContent = entry.modName;
                modNameLink.href = `pages/mods/${encodeURIComponent(entry.modName)}.html`;
                modNameCell.appendChild(modNameLink);

                const version = document.createElement("mark");
                version.classList.add("version");
                version.textContent = mod.version;

                const modDescription = document.createElement("p");
                modDescription.classList.add("mod-description");
                modDescription.textContent = mod.description;

                modDetails.appendChild(modName);
                modName.appendChild(version);
                modDetails.appendChild(modDescription);

                const downloadLink = document.createElement("a");
                downloadLink.setAttribute("download", mod.file);
                downloadLink.setAttribute("type", "application/octet-stream");
                downloadLink.classList.add("btn");
                downloadLink.href = `mods/${mod.file}`;
                downloadLink.textContent = "Download";

                modItem.appendChild(modDetails);
                modItem.appendChild(downloadLink);

                return modItem;
            }

            function filterModsByVersionAndSearch(mods, selectedVersion, searchTerm) {
                modList.innerHTML = '';

                mods.forEach(mod => {
                    const modName = mod.name.toLowerCase();
                    const modDescription = mod.description.toLowerCase();

                    const isVersionMatch = selectedVersion === "all" || mod.version === selectedVersion;
                    const isSearchMatch = modName.includes(searchTerm) || modDescription.includes(searchTerm);

                    if (isVersionMatch && isSearchMatch) {
                        const modItem = createModItem(mod);
                        modList.appendChild(modItem);
                    }
                });
            }

            versionFilter.addEventListener("change", () => {
                const selectedVersion = versionFilter.value;
                const searchTerm = searchInput.value.toLowerCase();
                filterModsByVersionAndSearch(mods, selectedVersion, searchTerm);
            });

            searchInput.addEventListener("input", () => {
                const selectedVersion = versionFilter.value;
                const searchTerm = searchInput.value.toLowerCase();
                filterModsByVersionAndSearch(mods, selectedVersion, searchTerm);
            });

            // Initial filter on page load
            filterModsByVersionAndSearch(mods, 'all', '');

            // Reorganize mod details for mobile devices
            const isMobileDevice = window.innerWidth <= 768;
            if (isMobileDevice) {
                const modItems = document.querySelectorAll(".mod-item");
                modItems.forEach(modItem => {
                    const modDetails = modItem.querySelector(".mod-details");
                    const downloadLink = modItem.querySelector(".btn");
                    modDetails.appendChild(downloadLink);
                });
            }
        })
        .catch(error => {
            console.error("Error loading mods:", error);
        });
});
</script>

</body>
</html>
